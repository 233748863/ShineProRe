# 📸 技能模板制作教程 - 图文版

## 🎯 目标
教会电脑小白如何制作高质量的技能模板图片

---

## 第一步：准备工作

### 需要的工具
1. **游戏** - 你的目标游戏
2. **截图工具** - Windows自带的截图功能
3. **图片查看器** - 查看和编辑图片

### 基本概念
- **模板**：就是技能图标的截图
- **检测区域**：技能在屏幕上的位置
- **匹配**：软件用模板在游戏中寻找相同的图标

---

## 第二步：截图技能图标

### 📱 截图方法（推荐使用Windows截图）

#### 方法1：Windows快捷键截图
```
Windows + Shift + S
```
1. 按下这3个键
2. 屏幕会变暗，鼠标变成十字
3. 框选技能图标区域
4. 截图自动保存到剪贴板

#### 方法2：游戏内截图
1. 进入游戏，让技能冷却完毕
2. 按 `Print Screen` 键
3. 打开画图软件粘贴
4. 裁剪出技能图标

### 🖼️ 截图要求

#### ✅ 正确的截图
- 技能图标清晰可见
- 背景简单（最好透明）
- 大小适中（50x50像素左右）
- 只包含图标本身

#### ❌ 错误的截图
- 包含其他UI元素
- 图标模糊不清
- 背景复杂混乱
- 尺寸过大或过小

### 截图示例对比

**好例子** ✅
```
[清晰的小图标]  [简单的背景]  [大小适中]
```

**坏例子** ❌
```
[模糊的图标]  [复杂背景]  [包含其他元素]
```

---

## 第三步：保存模板图片

### 📁 文件命名规则

**正确命名** ✅
```
青川濯莲.png
七情和合.png  
千枝绽蕊.png
```

**错误命名** ❌
```
技能1.png
截图1.png
未命名.png
```

### 🗂️ 保存位置

所有模板图片都要保存到：
```
E:\ShineProRe\templates\
```

文件夹结构：
```
ShineProRe/
├── templates/          ← 模板文件夹
│   ├── 青川濯莲.png
│   ├── 七情和合.png
│   └── 千枝绽蕊.png
└── config/
    └── opencv_技能配置.json
```

### 💾 保存格式
- **格式**：PNG（推荐）或JPG
- **质量**：保持原始质量
- **大小**：50x50像素左右

---

## 第四步：获取检测区域坐标

### 📍 什么是检测区域？
检测区域就是技能图标在屏幕上的位置，格式：`[x1, y1, x2, y2]`

- `x1, y1`：左上角坐标
- `x2, y2`：右下角坐标

### 🔧 获取坐标的方法

#### 方法1：使用截图工具
1. 打开截图工具（Windows + Shift + S）
2. 框选技能图标
3. 截图时工具会显示坐标

#### 方法2：使用专业工具
推荐使用 **PicPick** 或 **LightShot** 等截图工具，可以显示精确坐标

#### 方法3：手动测量
```
屏幕左上角是 (0, 0)
屏幕右下角是 (屏幕宽度, 屏幕高度)
```

### 📐 坐标示例

假设你的屏幕是 1920x1080：

```
技能位置示例：
左上角技能： [100, 100, 150, 150]
中间技能：   [500, 100, 550, 150]  
右上角技能： [1800, 100, 1850, 150]
```

---

## 第五步：配置技能参数

### 📝 编辑配置文件

打开文件：`config/opencv_技能配置.json`

修改每个技能的配置：

```json
{
  "技能名称": "青川濯莲",
  "检测区域": [100, 100, 150, 150],   ← 修改这里
  "模板路径": "./templates/青川濯莲.png",
  "键值": 81,                        ← 修改这里
  "优先级": 1
}
```

### ⌨️ 键值对照表

| 按键 | 键值 | 说明 |
|------|------|------|
| Q | 81 | 常用技能键 |
| W | 87 | 移动键 |
| E | 69 | 常用技能键 |
| R | 82 | 大招键 |
| A | 65 | 技能键 |
| S | 83 | 技能键 |
| D | 68 | 技能键 |
| F | 70 | 交互键 |
| 1 | 49 | 数字键1 |
| 2 | 50 | 数字键2 |

---

## 第六步：测试和调试

### 🧪 测试方法

1. **运行测试程序**
   ```cmd
   cd E:\ShineProRe
   python opencv_示例代码_优化版.py
   ```

2. **选择演示模式**
   ```
   请选择操作:
   1. 运行OpenCV引擎演示
   ```

3. **观察输出信息**
   ```
   技能 青川濯莲 匹配置信度: 0.85
   ✓ 技能 青川濯莲 可用
   ```

### 🔧 调试技巧

#### 如果识别不准确：
1. **检查模板质量** - 重新截图
2. **调整检测区域** - 确保位置正确
3. **降低匹配阈值** - 从0.8降到0.7

#### 如果按键不生效：
1. **检查游戏窗口** - 确保游戏是活动窗口
2. **验证键值** - 确认键值配置正确
3. **管理员权限** - 以管理员身份运行

---

## 🎨 高级技巧

### 制作更好的模板

#### 透明背景模板
1. 使用专业图片编辑软件
2. 去除图标背景
3. 保存为PNG透明格式

#### 多状态模板
可以为同一个技能制作多个模板：
- 冷却完毕状态
- 冷却中状态
- 不可用状态

### 批量处理技巧

#### 使用截图软件批量截图
推荐软件：**Snagit**、**FastStone Capture**

#### 使用图片批处理工具
推荐工具：**IrfanView**、**XnConvert**

---

## 📊 质量检查清单

在开始使用前，检查以下项目：

### ✅ 模板图片
- [ ] 图标清晰可见
- [ ] 背景简单或透明
- [ ] 大小适中（50x50左右）
- [ ] 文件命名正确
- [ ] 保存在正确文件夹

### ✅ 配置文件
- [ ] 检测区域坐标正确
- [ ] 键值配置正确
- [ ] 模板路径正确
- [ ] 优先级设置合理

### ✅ 系统环境
- [ ] Python已安装
- [ ] 依赖包已安装
- [ ] 游戏可以正常运行
- [ ] 截图功能正常

---

## 🆘 故障排除

### 常见问题解决方案

#### 问题："无法加载技能模板"
**原因**：文件路径错误或文件不存在
**解决**：检查模板文件是否存在，路径是否正确

#### 问题："检测区域无效"
**原因**：坐标超出屏幕范围
**解决**：重新测量并设置正确的坐标

#### 问题："匹配置信度低"
**原因**：模板质量差或位置不准
**解决**：重新制作模板，调整检测区域

---

## 🎉 恭喜完成！

现在你已经掌握了制作技能模板的全部技巧。记住：

### 关键要点
1. **模板质量决定识别效果**
2. **检测区域要精确**
3. **配置文件要正确**
4. **多测试多调整**

### 下一步
1. 先制作1-2个技能测试
2. 确认工作正常后再添加更多
3. 根据实际效果微调参数
4. 享受自动化的游戏体验！

---

## 📞 需要帮助？

如果遇到问题，可以：
1. 查看程序输出的错误信息
2. 检查本文档的相关章节
3. 重新阅读配置步骤
4. 尝试简化测试（从1个技能开始）

祝你使用愉快！🎮