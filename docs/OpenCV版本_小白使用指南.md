# 🌟 OpenCV技能循环引擎 - 小白使用指南

## 📋 目录
1. [什么是这个软件？](#什么是这个软件)
2. [准备工作](#准备工作)
3. [安装步骤](#安装步骤)
4. [配置技能](#配置技能)
5. [使用方法](#使用方法)
6. [常见问题](#常见问题)

---

## 什么是这个软件？

这是一个**自动释放技能**的软件，专门为游戏玩家设计。它使用先进的**图像识别技术**（比原来的点色检测更准确）来判断游戏中的技能是否可以释放。

### 🎯 主要功能
- ✅ **自动识别技能状态** - 看到技能冷却完毕就自动释放
- ✅ **智能决策** - 根据优先级选择最佳技能
- ✅ **稳定可靠** - 不受游戏画面亮度变化影响
- ✅ **易于配置** - 简单设置就能使用

### 🔄 工作原理
1. **截图** → 获取游戏画面
2. **匹配** → 寻找技能图标
3. **决策** → 选择要释放的技能
4. **按键** → 自动按对应键位

---

## 准备工作

### 🛠️ 需要安装的软件

1. **Python 3.8 或更高版本**
   - 下载地址：https://www.python.org/downloads/
   - 安装时记得勾选 "Add Python to PATH"

2. **必要的工具包**（会自动安装）

### 📁 文件准备
- 确保有项目文件夹 `ShineProRe`
- 里面有这些文件：
  ```
  opencv_技能状态检测器.py
  opencv_示例代码_优化版.py
  config/opencv_技能配置.json
  ```

---

## 安装步骤

### 第一步：安装Python依赖

1. **打开命令提示符（CMD）**
   - 按 `Win + R` 键
   - 输入 `cmd` 然后按回车

2. **进入项目文件夹**
   ```cmd
   cd E:\ShineProRe
   ```

3. **安装必要的软件包**
   ```cmd
   pip install opencv-python pynput
   ```

4. **验证安装**
   ```cmd
   python -c "import cv2; print('OpenCV安装成功')"
   ```

### 第二步：创建模板文件夹

在项目文件夹中创建一个名为 `templates` 的文件夹：
```
E:\ShineProRe\templates\
```

---

## 配置技能

### 📸 第一步：准备技能模板图片

1. **进入游戏**，让所有技能都处于**可用状态**（冷却完毕）

2. **截图每个技能的图标**：
   - 使用 `Windows + Shift + S` 截图
   - 只截取**技能图标**部分
   - 每个图标保存为单独的PNG文件

3. **图片命名规则**：
   ```
   青川濯莲.png
   七情和合.png
   千枝绽蕊.png
   ...
   ```

4. **保存到模板文件夹**：
   ```
   E:\ShineProRe\templates\青川濯莲.png
   E:\ShineProRe\templates\七情和合.png
   ```

### ⚙️ 第二步：配置技能参数

打开文件：`config/opencv_技能配置.json`

**需要修改的内容**：

1. **检测区域**：`[x1, y1, x2, y2]`
   - 这是技能图标在屏幕上的位置
   - 可以使用截图工具查看坐标

2. **键值**：按键的代码
   ```json
   "键值": 81    // Q键
   "键值": 69    // E键
   "键值": 82    // R键
   ```

**常用键值对照表**：
- Q键：81
- W键：87  
- E键：69
- R键：82
- A键：65
- S键：83
- D键：68
- F键：70
- 数字键1：49
- 数字键2：50

### 📝 配置文件示例

```json
{
  "技能配置": [
    {
      "技能名称": "青川濯莲",
      "检测区域": [100, 100, 150, 150],
      "模板路径": "./templates/青川濯莲.png",
      "键值": 81,
      "优先级": 1
    }
  ],
  "全局配置": {
    "匹配阈值": 0.8,
    "检测间隔": 0.1,
    "调试模式": false
  }
}
```

---

## 使用方法

### 🚀 启动软件

1. **打开命令提示符**
2. **进入项目文件夹**
   ```cmd
   cd E:\ShineProRe
   ```

3. **运行示例程序**
   ```cmd
   python opencv_示例代码_优化版.py
   ```

### 🎮 操作界面

运行后会显示菜单：
```
请选择操作:
1. 运行OpenCV引擎演示
2. 查看模板创建指南  
3. 系统环境检查
4. 退出
```

**选择1**：开始自动释放技能
**选择2**：查看详细的使用说明
**选择3**：检查系统环境
**选择4**：退出程序

### ⏸️ 控制方法

- **开始/停止**：在程序中控制
- **紧急停止**：按 `Ctrl + C` 强制退出
- **暂停**：切换到其他窗口会自动暂停

---

## 常见问题

### ❓ 问题1：软件无法启动
**症状**：提示 "ModuleNotFoundError"
**解决方法**：重新安装依赖
```cmd
pip install --upgrade opencv-python pynput
```

### ❓ 问题2：技能识别不准确
**症状**：技能无法正确识别
**解决方法**：
1. 检查模板图片是否清晰
2. 调整检测区域坐标
3. 降低匹配阈值（0.7-0.8）

### ❓ 问题3：按键不生效
**症状**：识别到技能但不按键
**解决方法**：
1. 确保游戏窗口处于活动状态
2. 检查键值配置是否正确
3. 尝试使用管理员权限运行

### ❓ 问题4：性能问题
**症状**：电脑变卡
**解决方法**：
1. 增加检测间隔（0.2-0.3秒）
2. 减少同时检测的技能数量
3. 关闭不必要的程序

---

## 🛡️ 安全使用提示

1. **仅用于个人学习**
2. **遵守游戏规则**
3. **不要过度使用**
4. **定期检查更新**

---

## 📞 技术支持

如果遇到问题，可以：

1. **查看详细日志**：程序会输出详细的运行信息
2. **检查配置**：确认所有配置项都正确
3. **重新制作模板**：确保模板图片质量

---

## 🎉 恭喜！

现在你已经掌握了使用这个OpenCV技能循环引擎的全部知识。开始享受自动化的游戏体验吧！

### 下一步建议：
1. 先从1-2个技能开始测试
2. 逐步添加更多技能
3. 调整参数获得最佳效果
4. 享受流畅的游戏体验！